<!DOCTYPE html>
<html>
<head>
  <title>Formulario CRUD</title>
  <style>
    /* Estilos CSS (puedes usar los estilos proporcionados anteriormente) */
  </style>
</head>
<body>
  <h1>Formulario CRUD</h1>

  <h2>Crear / Actualizar</h2>
  <form id="crudForm">
    <input type="hidden" id="userId">

    <label for="nombre">Nombre:</label>
    <input type="text" id="nombre" required>

    <label for="apellido">Apellido:</label>
    <input type="text" id="apellido" required>

    <button type="submit">Guardar</button>
  </form>

  <h2>Leer</h2>
  <ul id="usuariosList"></ul>

  <script>
    var usuarios = []; // Arreglo para almacenar los usuarios

    function actualizarListaUsuarios() {
      var usuariosList = document.getElementById('usuariosList');
      usuariosList.innerHTML = '';

      for (var i = 0; i < usuarios.length; i++) {
        var usuario = usuarios[i];
        var listItem = document.createElement('li');
        listItem.textContent = usuario.nombre + ' ' + usuario.apellido;

        // Agregar botones de actualización y eliminación
        var updateButton = document.createElement('button');
        updateButton.textContent = 'Editar';
        updateButton.addEventListener('click', function() {
          editarUsuario(usuario);
        });
        listItem.appendChild(updateButton);

        var deleteButton = document.createElement('button');
        deleteButton.textContent = 'Eliminar';
        deleteButton.addEventListener('click', function() {
          eliminarUsuario(usuario);
        });
        listItem.appendChild(deleteButton);

        usuariosList.appendChild(listItem);
      }
    }

    function guardarUsuario(event) {
      event.preventDefault();

      var userId = document.getElementById('userId').value;
      var nombre = document.getElementById('nombre').value;
      var apellido = document.getElementById('apellido').value;

      if (userId) {
        // Actualizar usuario existente
        for (var i = 0; i < usuarios.length; i++) {
          if (usuarios[i].id === userId) {
            usuarios[i].nombre = nombre;
            usuarios[i].apellido = apellido;
            break;
          }
        }
      } else {
        // Crear un nuevo usuario
        var nuevoUsuario = {
          id: Date.now().toString(),
          nombre: nombre,
          apellido: apellido
        };
        usuarios.push(nuevoUsuario);
      }

      actualizarListaUsuarios();
      document.getElementById('crudForm').reset();
    }

    function editarUsuario(usuario) {
      document.getElementById('userId').value = usuario.id;
      document.getElementById('nombre').value = usuario.nombre;
      document.getElementById('apellido').value = usuario.apellido;
    }

    function eliminarUsuario(usuario) {
      usuarios = usuarios.filter(function(item) {
        return item.id !== usuario.id;
      });

      actualizarListaUsuarios();
    }

    var form = document.getElementById('crudForm');
    form.addEventListener('submit', guardarUsuario);

    // Cargar usuarios de ejemplo al iniciar la página (pueden ser reemplazados por una API o una base de datos)
    usuarios = [
      { id: '1', nombre: 'John', apellido: 'Doe' },
      { id: '2', nombre: 'Jane', apellido: 'Smith' },
      { id: '3', nombre: 'Michael', apellido: 'Johnson' }
    ];

    actualizarListaUsuarios();
  </script>
</body>
</html>
